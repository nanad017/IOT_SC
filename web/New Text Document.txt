# 1. Bắt đầu từ image Python 3.11 (giống như trong yml)
FROM python:3.11

# 2. Đặt thư mục làm việc bên trong container
WORKDIR /app

# 3. Sao chép TỆP TIN YÊU CẦU (requirements) vào trước
# Đây là một "mẹo" của Docker: Nếu tệp này không đổi, Docker sẽ dùng cache
# và không chạy lại Bước 4, giúp build nhanh hơn.
COPY requirements.txt .

# 4. Chạy pip install (BƯỚC NÀY SẼ CHỈ CHẠY 1 LẦN KHI BUILD)
# --no-cache-dir giúp giữ kích thước image nhỏ
RUN pip install --no-cache-dir -r requirements.txt

# 5. Sao chép TOÀN BỘ code (app.py, v.v.) vào
COPY . .

# 6. Lệnh mặc định khi container khởi động
# (Docker sẽ chạy cái này thay vì cái command: trong yml)
CMD ["python", "app.py"]